<?xml version="1.0"?>
<project basedir="." default="execute2">

	<property name="jem.job.name" value="JPPF"/>
	<property name="jem.job.environment" value="TEST-Env"/>
	
	<taskdef name="jppf" classname="org.pepstock.jem.jppf.StepJPPF"/>
	<!--
	chunkableDataDescription="INPUT" delimiter="0x33" char 3> 
	-->	
	
	<target name="execute">
		<echo message="Entering jppf task..." />
		<jppf runnable="org.pepstock.jem.testjppf.MyJPPFTask" parallelTaskNumber="5" datasource="jppf"
			chunkableDataDescription="INPUT">
			
			<classpath>
				<pathelement path="${java.class.path}" />
				<pathelement path="${jem.classpath}/test/jem-test.jar" />
			</classpath>
			
			<dataSource name="DB" resource="Stock"/>
			
			<dataSource name="localhost" resource="FTPlocalhost">
				<!--property name="binary">true</property-->
			</dataSource>
			
			<dataSource name="jppf" resource="JPPFLocalhost"/>
			
			<dataDescription name="INPUT" disposition="SHR">
				<dataSet name="gdg/jemtest(0)"/>
				<!--dataSet name="gdg/stock"/-->
			</dataDescription>

			<dataDescription name="OUTPUT" disposition="NEW" sysout="true"/>
				<!--dataSet name="gdg/stock1"/>
			</dataDescription-->
			
		</jppf>	
	
	</target>

	<target name="execute2" depends="execute">
		<echo message="Entering jppf task..." />
		<jppf runnable="org.pepstock.jem.testjppf.MyJPPFTask" parallelTaskNumber="5" datasource="jppf"
			chunkableDataDescription="INPUT" delimiterString="789">
			
			<classpath>
				<pathelement path="${java.class.path}" />
				<pathelement path="${jem.classpath}/test/jem-test.jar" />
			</classpath>
			
			<dataSource name="jppf" resource="JPPFLocalhost"/>
			
			<dataDescription name="INPUT" disposition="SHR">
				<dataSet name="gdg/jemtest(0)"/>
				<!--dataSet name="gdg/stock"/-->
			</dataDescription>

			<dataDescription name="OUTPUT" disposition="NEW" sysout="true"/>
				<!--dataSet name="gdg/stock1"/>
			</dataDescription-->
			
		</jppf>	
	
	</target>
	<!--target name="execute2" depends="execute">
		<echo message="Entering jppf task..." />
		<jppf runnable="org.pepstock.jem.jppf.test.MyRunnable" parallelTaskNumber="5" datasource="jppf">
			
			<dataSource name="jppf" resource="JPPFLocalhost"/>
			
			<dataDescription name="INPUT" disposition="SHR">
				<dataSet name="*.execute.jppf.INPUT"/>
			</dataDescription>

		
		</jppf>	
	</target-->

</project>
